xu4 Todo List & Roadmap

Bugs
====

[ ] HQX filter does not work at 5x scale.
[X] Animate moongate opening/closing during introduction.
[X] Stop vendors from moving away after speaking with them.  Turn updates
    normally for other NPCs.  Note that DOS follow behavior differs from xu4.
[X] Implement trap detection.  Pit/Rock traps can appear 0.0-3.0 seconds
    after the player has moved or turned.  If there are many in a corridor,
    only one appears.  If a trap was recently spotted that seems to be the
    most likely to appear again.  This same algorithm may be used when the
    trap is triggered as it does not always appear.
[/] Pit/Rock traps cause walls to jump up a moment (a shake effect confined
    to the viewport).  A short white-noise sound is used for both trap types.
[X] Fire Phantoms
[X]   Should not move onto each other.
[X]   Should flash red & purple (~50% chance each frame).
      (Save qu21778-p6-48A8-l3-phantom)
[X] Cannot exit when sleep! effect on party (sleep disables input).
    Fixed in commit bc6839a6.
[X] cmake must be run twice on Fedora 33 before it spits out a Makefile.
    Removed cmake files in 6ee0b586.


1. Cleanup & Modernize Backend
==============================
This will cleanup the code and start down the path to GPU rendering.

[X] Cleanup backends.
[X]    Drop iOS due to lack of developer support.
[X] Remove indexed (CLUT) images.
[X]    Re-implement text coloration.
[X]    Re-implement dungeon color remapping.
[X] Create Allegro 5 backend.
[/] Create GameServices.
[/]    Collect globals into struct.
[ ]    Init/free modules in consistent manner.
[X] Fix all memory leaks.
[ ] Update SDL to v2.
[ ]    Implement loadBitmapPng
[ ]    Implement equivalent of al_fopen_slice


2. Refactor Config to be more Data Oriented
===========================================
This will hide the configuration storage format to allow alternate
storage backends and simplify data access.

[X] Replace uses of ConfigElement with Config methods that return
    data (raw structures if possible).
[-] Allow game to run by just placing binary in GOG Ultima 4 directory.
[/] Create xu4 package backend (game modules).
[X]   Create pack-xu4 tool.
[ ]   Package overlay.


3. Rendering with GPU
=====================
Accelerate drawing and support 3D scenes & models.

[X] Create OpenGL context and shader.
[/] Convert raster blits to GPU primitive lists.
[/] Separate map rendering from objects (sprites).
[ ] Render 3D models.


4. Toolset for Extended Journeys
================================

[ ] Map editor
[ ] NPC editor
[ ] Item editor (new equipment)
[ ] Zone editor (path following)
[ ] Composer/Animation editor (titles)


5. Emulate Ulitma V
===================
The game data is similar to U4, so this shouldn't be too hard.

[ ] Load maps & graphics.
[ ] Render graphics properly.
[ ] Implement character behavior.
