xu4 Todo List & Roadmap

Bugs
====

[ ] cmake must be run twice on Fedora 33 before it spits out a Makefile.
    (Or better yet, just ditch cmake)
[ ] Stop vendors from moving away after speaking with them.
    Not sure if the turn shouldn't update or if they are locked in place.
[ ] Implement trap detection.  Pit/Rock traps can appear 0.5-3.0 seconds
    after the player has moved or turned.
[ ] Fire Phantoms
[ ]   Should not move onto each other.
[ ]   Should flash red & purple (~50% chance each frame).
      (Save qu21778-p6-48A8-l3-phantom)
[X] Cannot exit when sleep! effect on party (sleep disables input).
    Fixed in commit bc6839a6.


1. Cleanup & Modernize Backend
==============================
This will cleanup the code and start down the path to GPU rendering.

[/] Cleanup backends.
[X]    Drop iOS due to lack of developer support.
[/] Remove indexed (CLUT) images.
[ ]    Re-implement text coloration.
[ ]    Re-implement dungeon color remapping.
[X] Create Allegro 5 backend.
[/] Create GameServices.
[/]    Collect globals into struct.
[ ]    Init/free modules in consistent manner.
[X] Fix all memory leaks.
[ ] Update SDL to v2.
[ ]    Implement loadBitmapPng
[ ]    Implement equivalent of al_fopen_slice


2. Refactor Config to be more Data Oriented
===========================================
This will hide the configuration storage format to allow alternate
storage backends and simplify data access.

[X] Replace uses of ConfigElement with Config methods that return
    data (raw structures if possible).
[ ] Allow game to run by just placing binary in GOG Ultima 4 directory.
[/] Create xu4 package backend (game modules).
[X]   Create pack-xu4 tool.
[ ]   Package overlay.


3. Rendering with GPU
=====================
Accelerate drawing and support 3D scenes & models.

[X] Create OpenGL context and shader.
[/] Convert raster blits to GPU primitive lists.
[ ] Separate map rendering from objects (sprites).
[ ] Render 3D models.


4. Toolset for Extended Journeys
================================

[ ] Map editor
[ ] NPC editor
[ ] Item editor (new equipment)
[ ] Zone editor (path following)
[ ] Composer/Animation editor (titles)


5. Emulate Ulitma V
===================
The game data is similar to U4, so this shouldn't be too hard.

[ ] Load maps & graphics.
[ ] Render graphics properly.
[ ] Implement character behavior.
